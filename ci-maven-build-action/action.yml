name: 'Virtual Satellite 4 - Maven Build'
description: 'GitHub Action for calling the maven builds'
inputs:
  build_job:
    description: 'the job such as (spotbugs|surefire|...)'
    required: true
    default: 'assemble'
  build_profile:
    desription: 'the profile to be build such as (development, integration, release)'
    required: true
    default: 'development'
runs:
  using: "composite"
  steps: 
    - run: |
        echo "--- Trying to identify environment such as zmq, vtq, etc."
        source ${{ github.action_path }}/../bash/setup_environment.sh
        echo "--- Installing and running OverTarget"
        ${{ github.action_path }}/../bash/maven_build.sh -j dependencies -p dependencies
        echo "--- Starting Maven Build - ${{ inputs.build_job }} - ${{ inputs.build_profile }}"
        ${{ github.action_path }}/../bash/maven_build.sh -j ${{ inputs.build_job }} -p ${{ inputs.build_profile }}
      shell: bash
      env:
          github.sha:  ${{ github.sha }}
     